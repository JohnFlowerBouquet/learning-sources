!function a(c,l,i){function u(t,e){if(!l[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[t]={exports:{}};c[t][0].call(o.exports,function(e){return u(c[t][1][e]||e)},o,o.exports,a,c,l,i)}return l[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l;var u=function e(t,n,r,o,a){c(this,e),this.title=t,this.link=n,this.category=r,this.technology=o,this.year=a},i=function(){function i(){c(this,i)}return o(i,null,[{key:"displayResults",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.length,r=1;if(document.querySelectorAll(".removable").forEach(function(e){return e.remove()}),0<n){for(var o=[[]];0<n;){var a=e.splice(0,5);o.push(a);var c=document.createElement("li");c.className="page-item removable";var l=document.createElement("button");l.className="page-link",l.dataset.pageNumber=r,l.textContent=r,l.addEventListener("click",function(){i.displayList(o[this.dataset.pageNumber],t)}),c.appendChild(l),m.insertBefore(c,m.lastElementChild),n=e.length,r++}i.displayList(o[1],t)}else i.displayList(e,t)}},{key:"findMatches",value:function(n){return d.innerHTML="",s.getEntries().filter(function(e){var t=new RegExp(n,"gi");return e.title.match(t)||e.category.match(t)})}},{key:"displayList",value:function(e){var r,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=document.querySelector("#list-show");if(768<window.innerWidth){var n=Array.from(e).map(function(e){if(a){var t=new RegExp(a,"gi");r=e.title.replace(t,'<strong class="text-primary">'.concat(a,"</strong>")),o=e.category.replace(t,'<strong class="text-primary">'.concat(a,"</strong>"))}return'\n      <tr class="table-dark">\n        <th scope="row">\n          <a href="'.concat(e.link,'">').concat(r||e.title,"</a>\n        </th>\n        <td>").concat(e.category,"</td>\n        <td>").concat(o||e.technology,"</td>\n        <td>").concat(e.year,'</td>\n        <td>\n          <button type="button" class="badge badge-danger d-none delete">\n            Delete\n          </button>\n        </td>\n      </tr>')}).join("");t.innerHTML=n}else{document.getElementById("searchButton").setAttribute("data-toggle","collapse");var c=Array.from(e).map(function(e,t){if(a){var n=new RegExp(a,"gi");r=e.title.replace(n,'<strong class="text-primary">'.concat(a,"</strong>")),o=e.category.replace(n,'<strong class="text-primary">'.concat(a,"</strong>"))}return'\n          <tr data-toggle="collapse" data-target="#accordion'.concat(t,'" class="table-dark clickable">\n            <td>\n              <a href="').concat(e.link,'">').concat(r||e.title,'</a>\n              <div id="accordion').concat(t,'" class="collapse">\n                <p>Category: ').concat(e.category,"</p>\n                <p>Technologies: ").concat(o||e.technology,"</p>\n                <p>Year: ").concat(e.year,'</p>\n                <button type="button" class="badge badge-danger d-none delete">Delete</button>\n              </div>\n            </td>\n          </tr>')}).join("");t.innerHTML=c}}},{key:"addEntry",value:function(e){s.addEntry(e),console.log("entry added")}},{key:"deleteEntry",value:function(e){var t;e.target.parentElement.classList.contains("collapse")?(t=e.target.parentElement.parentElement.parentElement.firstElementChild.getAttribute("href"),e.target.parentElement.parentElement.parentElement.remove()):(t=e.target.parentElement.parentElement.firstElementChild.getAttribute("href"),e.target.parentElement.parentElement.remove()),console.log(t),s.removeEntry(t)}},{key:"showModal",value:function(){var e=document.createElement("a");e.setAttribute("data-toggle","modal"),e.setAttribute("data-target","#modalAnchor"),document.body.appendChild(e),e.click(),e.remove();var n=document.querySelector("#input-title").value,r=document.querySelector("#input-link").value,o=document.querySelector("#input-category").value,a=document.querySelector("#input-technology").value,c=document.querySelector("#input-year").value;document.querySelector("#modal-form").addEventListener("submit",function(e){if(e.preventDefault(),i.validation(n,r,o,a,c)){var t=new u(n,r,o,a,c);i.addEntry(t),i.showAlert("Entry Added","primary"),i.clearFields()}else i.showAlert("Please fill in all fields corectly","danger")})}},{key:"showAlert",value:function(e,t){var n;if(document.querySelector(".alert"))clearTimeout(n);else{var r=document.createElement("div");r.className="alert alert-".concat(t," mt-4"),r.appendChild(document.createTextNode(e)),document.querySelector("#modal-form").appendChild(r),n=setTimeout(function(){return document.querySelector(".alert").remove()},3e3)}}},{key:"clearFields",value:function(){document.querySelector("#input-title").value="",document.querySelector("#input-link").value="",document.querySelector("#input-technology").value="",document.querySelector("#input-year").value=""}},{key:"validation",value:function(e,t,n,r){return""!==e&&""!==t&&""!==n&&""!==r}}]),i}(),s=function(){function e(){c(this,e)}return o(e,null,[{key:"getEntries",value:function(){var t;return l?(console.log("local"),l):(console.log("fetch"),t=[],fetch("https://raw.githubusercontent.com/JohnFlowerBouquet/learning-sources/master/sources.json").then(function(e){return e.json()}).then(function(e){t.push.apply(t,a(e)),i.displayResults(e)}).catch(function(e){console.log(e)}),l=t)}},{key:"addEntry",value:function(e){l.push(e)}},{key:"removeEntry",value:function(n){l.forEach(function(e,t){e.link===n&&l.splice(t,1)})}},{key:"saveJSON",value:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(l)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","sources.json"),document.body.appendChild(t),t.click(),t.remove()}}]),e}(),d=document.querySelector("#list-show"),m=document.querySelector("#pagination");d.addEventListener("click",function(e){e.target.classList.contains("delete")&&i.deleteEntry(e)}),document.getElementById("saveJSON").addEventListener("click",s.saveJSON),document.addEventListener("DOMContentLoaded",function(){i.displayResults(s.getEntries())}),document.querySelector("#addEntryButton").addEventListener("click",i.showModal),document.querySelector("#search-form").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#search-input").value;"admin"==t?(console.log("GODMODE ON"),document.querySelectorAll(".d-none").forEach(function(e){return"TR"==e.tagName||e.classList.remove("d-none")})):i.displayResults(i.findMatches(t),t)})},{}]},{},[1]);
//# sourceMappingURL=maps/main.min.js.map
