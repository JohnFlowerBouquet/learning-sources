!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t){t.exports=[{title:"freeCodeCamp - Online Bootcamp",link:"https://www.freecodecamp.org/",category:"Courses",technology:"JavaScript,HTML,CSS",year:"Updated"},{title:"javascriptissexy.com - Object Oriented JavaScript",link:"http://javascriptissexy.com/oop-in-javascript-what-you-need-to-know/",category:"Article",technology:"JavaScript",year:"2013/03"},{title:"Traversy Media - JavaScript BookList App | No Frameworks",link:"https://www.youtube.com/watch?v=JaMCxVWtW58",category:"Video",technology:"JavaScript",year:"2018/12"},{title:"JavaScript30",link:"https://javascript30.com/",category:"Course",technology:"JavaScript",year:"2016/12"},{title:"codeacademy.com",link:"https://www.codecademy.com/learn",category:"Course",technology:"JavaScript,HTML,CSS",year:"Updated"},{title:"Eloquent  JavaScript",link:"http://eloquentjavascript.net/index.html",category:"Book",technology:"JavaScript",year:"2018/12"},{title:"Programming 101",link:"https://www.udemy.com/programming-101/",category:"Course",technology:"Computer Science",year:"2017/9"},{title:"JavaScript Essentials",link:"https://www.udemy.com/javascript-essentials/",category:"Course",technology:"JavaScript",year:"2017/12"}]},function(t,e,n){"use strict";function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e);var o=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.exists?t.instance:(this._data=JSON.parse(JSON.stringify(e)),t.instance=this,t.exists=!0,this)}var e,n,o;return e=t,(n=[{key:"getEntries",value:function(){return this._data}},{key:"addEntry",value:function(t){this._data=[t].concat(a(this._data))}},{key:"getEntry",value:function(t){return this._editedEntryIndex=this._data.findIndex(function(e){return e.title===t}),this._data[this._editedEntryIndex]}},{key:"editEntry",value:function(t){this._data[this._editedEntryIndex]=Object.assign({},t)}},{key:"removeEntry",value:function(t){this._data=this._data.filter(function(e){return e.title!==t})}},{key:"saveToJSON",value:function(){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this._data)),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","sources.json"),document.body.appendChild(e),e.click(),e.remove()}}])&&r(e.prototype,n),o&&r(e,o),t}(),i={_currentPage:1,_entriesPerPage:5,_numOfPages:1,_temporaryData:[],_editMode:!1,init:function(t){this._temporaryData=t,this._entriesPerPage=Math.floor((.75*window.innerHeight-36)/80),this._numOfPages=Math.ceil(t.length/this._entriesPerPage),this._currentPage=t.length<1?0:1,this.display(),this.addPagination(t.length)},toggleEditMode:function(){this._editMode=!this._editMode},isEditMode:function(){return this._editMode},display:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._temporaryData,e=document.querySelector("#list-show"),n=this._currentPage,a=this._entriesPerPage;if(t.length<1)return e.innerHTML='<tr class="table-dark"><td class="text-center " colspan="6">Sorry, no results! Try other keywords!</td></tr>';var r=t.filter(function(e,r){return r>=(n-1)*a&&r<n*a&&r<t.length}).map(function(t,e){return window.innerWidth>768?'\n            <tr class="table-dark py-2">\n            <th>'.concat(e+1,'</th>\n              <td>\n                <a href="').concat(t.link,'" name="title">').concat(t.title,"</a>\n              </td>\n              <td>").concat(t.category,"</td>\n              <td>").concat(t.technology,"</td>\n              <td>").concat(t.year,'</td>\n              <td>\n              <div class="').concat(i._editMode?"d-block":"d-none",'">\n                <button type="button" class="badge badge-danger delete">Delete</button>\n                <button type="button" class="badge badge-danger edit">Edit</button>\n                </div>\n              </td>\n            </tr>'):'\n          <tr\n            class="table-dark clickable"\n            data-toggle="collapse"\n            data-target="#accordion'.concat(e,'"\n            aria-controls="collapse').concat(e,'"\n            aria-expanded="').concat(0===e?"true":"false",'"\n          >\n            <td class="py-3">\n              <p class="mb-0">\n                ').concat(a*(n-1)+e+1,'.\n      <span name="title">').concat(t.title,'</span>\n              </p>\n              <div\n                id="accordion').concat(e,'"\n                class="collapse ').concat(0===e?"show":"",'"\n                data-parent="#accordion"\n              >\n                <p class="mb-0">Category: ').concat(t.category,'</p>\n                <p class="mb-0">Technologies: ').concat(t.technology,'</p>\n                <p class="mb-0">Year: ').concat(t.year,'</p>\n                <p class="mb-0">\n                  Link: <a href="').concat(t.link,'">').concat(t.title,'</a>\n                </p>\n                <div class="').concat(i._editMode?"d-block":"d-none",'">\n                  <button type="button" class="badge badge-danger delete">\n                    Delete\n                  </button>\n                  <button type="button" class="badge badge-danger edit">\n                    Edit\n                  </button>\n                </div>\n              </div>\n            </td>\n          </tr>\n        ')});e.innerHTML=r.join("")},search:function(t,e){var n=new RegExp(t,"i"),a=JSON.parse(JSON.stringify(e)).filter(function(t){return t.title.match(n)||t.technology.match(n)}).map(function(t){return t.title=t.title.replace(n,'<strong class="text-primary">'.concat(t.title.match(n),"</strong>")),t.technology=t.technology.replace(n,'<strong class="text-primary">'.concat(t.technology.match(n),"</strong>")),t});this.init(a)},addPagination:function(t){var e=this,n=Math.ceil(t/this._entriesPerPage),a=document.getElementById("pagination");a.querySelectorAll(".pageNum").forEach(function(t){return t.remove()});for(var r=1;r<n+1;r++){var o=document.createElement("li");o.innerHTML='<li class="page-item pageNum '.concat(1==r&&"active",'"><a class="page-link pageNumLink" href="#">').concat(r,"</a></li>"),a.insertBefore(o,a.childNodes[r+1])}a.querySelectorAll(".pageNumLink").forEach(function(t){return t.addEventListener("click",function(t){return e.selectPage(t)})})},changePagination:function(){for(var t=document.querySelectorAll(".pageNum"),e=document.getElementById("pagination_next"),n=document.getElementById("pagination_prev"),a=0;a<t.length;a++)a===this._currentPage-1?t[a].classList.add("active"):t[a].classList.remove("active");1==this._currentPage?n.classList.add("disabled"):n.classList.remove("disabled"),this._currentPage==this._numOfPages?e.classList.add("disabled"):e.classList.remove("disabled")},selectPage:function(t){this._currentPage=t.target.textContent,this.display(),this.changePagination()},prevPage:function(){this._currentPage>1&&(this._currentPage--,this.display(),this.changePagination())},nextPage:function(){this._currentPage<this._numOfPages&&(this._currentPage++,this.display(),this.changePagination())}},c={entry:{title:"",link:"",category:"",technology:"",year:""},modal:document.getElementById("modal"),showModal:function(t){this.clearInput(),t&&this.modal.querySelectorAll(".form-control").forEach(function(e){e.value=t[e.name],c.entry[e.name]=t[e.name]});var e=document.createElement("a");e.setAttribute("data-toggle","modal"),e.setAttribute("data-target","#modal"),document.body.appendChild(e),e.click(),e.remove(),this.modal.querySelectorAll(".form-control").forEach(function(t){return t.addEventListener("input",function(t){c.entry[t.target.name]=t.target.value})})},closeModal:function(){document.getElementById("closeModal").click()},validateInput:function(){var t=this.entry;for(var e in t){var n=t[e];if(t.hasOwnProperty(e))switch(e){case"title":if(t[e].length<5)return this.showInputError(e),!1;this.clearInputError(e);break;case"link":if(!n.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%.+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%+.~#?&\/\/=]*)/g))return this.showInputError(e),!1;this.clearInputError(e);break;case"category":case"technology":if(""===n)return this.showInputError(e),!1;this.clearInputError(e);break;case"year":if(!n.match(/([12][90][0-9][0-9])\/([0][0-9]|[1][012])/))return this.showInputError(e),!1;this.clearInputError(e)}}return!0},showInputError:function(t){var e=document.createElement("span");switch(e.classList.add("text-danger"),t){case"title":e.textContent="Must be at least 5 characters long.";break;case"link":e.textContent="Insert proper URL address.";break;case"category":e.textContent="Choose one category.";break;case"technology":e.textContent="Write technologies separated by comma.";break;case"year":e.textContent="Enter date in YYYY/MM format."}var n=this.modal.querySelector('[name="'.concat(t,'"]'));!n.parentElement.querySelector(".text-danger")&&n.parentElement.appendChild(e),n.focus()},clearInputError:function(t){var e=this.modal.querySelector('[name="'.concat(t,'"]')).parentElement.querySelector(".text-danger");e&&e.remove()},getInput:function(){return this.entry},clearInput:function(){this.entry={title:"",link:"",category:"",technology:"",year:""},this.modal.querySelectorAll(".form-control").forEach(function(t){t.value=""})}},l=new o(n(0));i.init(l.getEntries());var s=document.getElementById("pagination_next"),d=document.getElementById("pagination_prev"),u=document.getElementById("searchInput"),g=document.getElementById("searchButton"),p=document.getElementById("addEntryButton"),h=document.getElementById("editModeButton"),y=document.getElementById("saveJSON");function m(t){if(t.target.classList.contains("delete")&&(l.removeEntry(t.target.parentElement.parentElement.parentElement.querySelector('[name="title"]').textContent),i.init(l.getEntries())),t.target.classList.contains("edit")){var e=l.getEntry(t.target.parentElement.parentElement.parentElement.querySelector('[name="title"]').textContent);c.showModal(e)}}window.innerWidth<768&&(g.setAttribute("data-toggle","collapse"),p.setAttribute("data-toggle","collapse"),h.setAttribute("data-toggle","collapse"),y.setAttribute("data-toggle","collapse")),g.addEventListener("click",function(t){if(t.preventDefault(),u.value.length<1)return i.init(l.getEntries());i.search(u.value,l.getEntries()),u.value=""}),s.addEventListener("click",i.nextPage),d.addEventListener("click",i.prevPage),p.addEventListener("click",function(){c.showModal()}),document.getElementById("modal-form").addEventListener("submit",function(t){t.preventDefault(),c.validateInput()&&(i.isEditMode?l.editEntry(c.getInput()):l.addEntry(c.getInput()),c.clearInput(),i.init(l.getEntries()),c.closeModal())}),h.addEventListener("click",function(){i.toggleEditMode(),i.display(),i.isEditMode()?document.addEventListener("click",m):document.removeEventListener("click",m)}),y.addEventListener("click",l.saveToJSON)}]);